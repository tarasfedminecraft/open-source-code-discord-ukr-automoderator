<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D Bot Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>

    <div class="bg-orb orb-1"></div>
    <div class="bg-orb orb-2"></div>
    <div class="grid-overlay"></div>

    <nav class="glass-nav">
        <div class="logo"><i class="fa-solid fa-shield-halved"></i> D Bot</div>
        <div class="nav-links">
            {% if authorized %}
                <div class="user-profile">
                    <img src="https://cdn.discordapp.com/avatars/{{ user.id }}/{{ user.avatar }}.png" alt="User">
                    <span>{{ user.name }}</span>
                    <a href="/" class="btn-logout"><i class="fa-solid fa-right-from-bracket"></i></a>
                </div>
            {% else %}
                <a href="/login" class="btn-login"><i class="fa-brands fa-discord"></i> –£–≤—ñ–π—Ç–∏</a>
            {% endif %}
        </div>
    </nav>

    {% if not in_dashboard %}
    <header class="hero">
        <div class="hero-content">
            <h1 class="glow-text">–ó–∞—Ö–∏—Å—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª—ñ–Ω–Ω—è</h1>
            <p>Anti-Invite, Anti-TLauncher, –ï–∫–æ–Ω–æ–º—ñ–∫–∞ —Ç–∞ –Ü–≥—Ä–∏ –≤ –æ–¥–Ω–æ–º—É –±–æ—Ç—ñ.</p>
            <div class="hero-btns">
                <a href="/login" class="btn-primary">–î–∞—à–±–æ—Ä–¥</a>
                <a href="#" class="btn-secondary">–î–æ–¥–∞—Ç–∏ –±–æ—Ç–∞</a>
            </div>
        </div>
    </header>
    {% else %}

    <div class="dashboard-container">
        <aside class="sidebar glass-panel">
            <h3>–°–µ—Ä–≤–µ—Ä–∏</h3>
            <div class="guilds-list">
                {% for guild in guilds %}
                <div class="guild-item {% if guild.id in bot_guilds %}active-bot{% endif %}"
                     onclick="loadGuild('{{ guild.id }}', '{{ guild.name }}', {{ 'true' if guild.id in bot_guilds else 'false' }})">
                    {% if guild.icon %}
                    <img src="https://cdn.discordapp.com/icons/{{ guild.id }}/{{ guild.icon }}.png">
                    {% else %}
                    <div class="no-icon">{{ guild.name[0] }}</div>
                    {% endif %}
                    <span class="tooltip">{{ guild.name }}</span>
                </div>
                {% endfor %}
            </div>
        </aside>

        <main class="main-content glass-panel" id="main-panel">
            <div class="empty-state">
                <i class="fa-solid fa-server"></i>
                <h2>–í–∏–±–µ—Ä—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä –∑–ª—ñ–≤–∞</h2>
                <p>–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –º–æ–¥—É–ª—ñ –∑–∞—Ö–∏—Å—Ç—É —Ç–∞ –µ–∫–æ–Ω–æ–º—ñ–∫–∏</p>
            </div>

            <div id="settings-area" style="display: none;">
                <h2 id="server-title">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>

                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('protection')"><i class="fa-solid fa-shield-virus"></i> –ó–∞—Ö–∏—Å—Ç</button>
                    <button class="tab-btn" onclick="switchTab('games')"><i class="fa-solid fa-gamepad"></i> –Ü–≥—Ä–∏</button>
                    <button class="tab-btn" onclick="switchTab('economy')"><i class="fa-solid fa-coins"></i> –ï–∫–æ–Ω–æ–º—ñ–∫–∞</button>
                </div>

                <div id="tab-protection" class="tab-content active">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fa-solid fa-link"></i> Anti-Invite</h3>
                            <label class="switch">
                                <input type="checkbox" id="ai-enabled" onchange="updateDB('anti_invite_settings', 'enabled', this.checked)">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <p>–ë–ª–æ–∫—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —ñ–Ω—à—ñ Discord —Å–µ—Ä–≤–µ—Ä–∏.</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fa-solid fa-ban"></i> Anti-TLauncher</h3>
                            <label class="switch">
                                <input type="checkbox" id="at-enabled" onchange="updateDB('antitlauncher_settings', 'enabled', this.checked)">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="input-group">
                            <label>–í–∞—Ä–Ω—ñ–≤ –¥–æ –±–∞–Ω—É:</label>
                            <input type="number" id="at-warns" onchange="updateDB('antitlauncher_settings', 'warnings_to_ban', this.value)">
                        </div>
                    </div>
                </div>

                <div id="tab-games" class="tab-content">
                    <div class="card">
                        <h3>üî¢ –†–∞—Ö—É–≤–∞–ª—å–Ω–∏–∫</h3>
                        <div class="input-group">
                            <label>–ü–æ—Ç–æ—á–Ω–µ —á–∏—Å–ª–æ:</label>
                            <input type="number" id="count-num" onchange="updateDB('server_settings', 'current_count', this.value)">
                        </div>
                        <div class="input-group">
                            <label>ID –ö–∞–Ω–∞–ª—É –≥—Ä–∏:</label>
                            <input type="text" id="count-chan" onchange="updateDB('server_settings', 'counting_channel', this.value)">
                        </div>
                    </div>
                </div>

                <div id="tab-economy" class="tab-content">
                    <div class="card">
                        <h3>üí∞ –†–µ–¥–∞–∫—Ç–æ—Ä –±–∞–ª–∞–Ω—Å—É</h3>
                        <p>–í–≤–µ–¥—ñ—Ç—å ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —â–æ–± –∑–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ –±–∞–ª–∞–Ω—Å.</p>
                        <div class="input-group">
                            <input type="text" id="eco-user-id" placeholder="User ID">
                            <input type="number" id="eco-amount" placeholder="–ù–æ–≤–∏–π –±–∞–ª–∞–Ω—Å">
                            <button class="btn-primary" onclick="updateUserEco()">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>
    {% endif %}

    <footer class="footer">
        <p>&copy; 2026 D Bot Inc.</p>
        <div class="footer-links">
            <a href="/privacy-policy.md" target="_blank">–ü–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ</a>
            <a href="/terms-of-use.md" target="_blank">–£–º–æ–≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</a>
        </div>
    </footer>

    <script src="/assets/js/script.js"></script>
</body>
</html>